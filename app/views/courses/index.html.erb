<style>
  .inner {
    display: inline-block;
  }
</style>

<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">DEVELOPER TOOLS</h3>
  </div>

  <div class="panel-body">

    <p>Promote and demote have been depreciated. Check if someone is a facilitator by calling "if not current_user.courses.blank? or other means."</p>

    <h3>Facilitator Status:</h3>
    
    <% if not user_signed_in? or current_user.courses.nil? %>
      <p>You own no courses, so your ARE NOT a faciltiator. Currently you can be a facilitator through the following: Click Facilitate, Submit Course, Have an admin approve that course; Have a facilitator add you to their approved course. <p>
    <%else%>
      <p>You own course(s), so you ARE a facilitator.</p>
    <%end%>
    
    <h3>Admin Status</h3>
    <% if not user_signed_in? or current_user.admin.eql? false %>
      <p>You ARE NOT an admin.</p>
    <%else%>
      <p>You ARE an admin.</p>
    <%end%>
    <div class="inner">
      <%= button_to 'makeadmin', makeadmin_path, {:class => "btn btn-primary"} %>
    </div>
    <div class="inner">
      <%= button_to 'removeadmin', removeadmin_path, {:class => "btn btn-primary"} %>
    </div>
    
  </div>
</div>


<h1>COURSES</h1>
<form class="form-inline">
<!--<p> <%= session %> </p>
<p> <%= params %> </p> -->
  <div class="form-group">
    <%= form_for(courses_path, method: :get, id: 'units_form') do %>

      <%= label_tag("Search:") %>
      <input type="text" class="form-control" placeholder="By title" id=<%= text_field_tag(:search_field) %> </input>

      <%= label_tag("Units:") %>
      <% @all[:units].each do |unit| %>
        <%= check_box_tag "units[#{unit}]", 1, session[:units].include?(unit), id: unit %>
        <%= unit%>
      <% end %>
      <br></br>
      <%= label_tag("Categories:") %>
      <%= select_tag 'category', options_for_select(@all[:category], session[:category]), :class => 'form-control'%>
      <br></br>
      <%= label_tag("Date:") %>
      <% Section_time.all_days.each do |day| %>
        <%= check_box_tag "section_time[days[#{day}]]", 1, true, id: day %>
        <%= day%>
     <% end %>
     <br></br>
     <%= label_tag ("Start after:") %>
     <%= select_tag 'section_time[start_time]', options_for_select(Section_time.all_times, "-Select Time-") %>
     <%= label_tag ("Ends before:") %>
     <%= select_tag 'section_time[end_time]', options_for_select(Section_time.all_times, "-Select Time-") %>
      
      <%= label_tag("Status:") %>
      <%= select_tag 'status', options_for_select(@all[:status], session[:status]), :class => 'form-control'%>

      <%= submit_tag "Search", :class=>"btn btn-primary" %>

    <% end %>

    <br></br>
    <div>

    <!-- Depreciated. Please create a course or have a facilitator add you to their course.   
      <div class="inner">
        <%= button_to 'promote', promote_path, {:class => "btn btn-primary"} %>
      </div>
      <div class="inner">
        <%= button_to 'demote', demote_path, {:class => "btn btn-primary"} %>
      </div>
    </div>
    -->

    <table class="table table-hover">
      <tr>
        <th><%= link_to 'Course Title â–¼' , courses_path(:title => "title") %></th>
        <th>Category</th>
        <th>Units</th>
        <th>Time</th>
        <th>Status</th>
  
        <!-- <th></th> -->
        <!-- <th></th> -->
      </tr>

    <% @courses.each do |course| %>
      <tr>
        <td><%= link_to course.title, course, {:style=>'font-size: 120%;'} %></td>
        <td><%= course.category %></td>
        <td><%= course.units %></td>
        <td><% course.section_times.each do |time| %>
            <% if time.filled? %>
              <%= time.full_time %>
            <% else %>
              <%= 'TBA' %>
            <% end %>
            <br></br>
        <% end %> 
        <td><%= course.status %></td>

      </tr>
    <% end %>
    </table>
  </div>
</form>
<br />
